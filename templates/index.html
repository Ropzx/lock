<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KGBB Unlock Portal</title>
</head>
<body style="background-color: black; color: white; text-align: center; padding-top: 50px; font-family: Arial, sans-serif;">

    <h1>Paste your Token here:</h1>

    <input type="text" id="tokenInput" style="width: 300px; padding: 10px; font-size: 18px;">
    <br><br>
    <button onclick="submitToken()" style="padding: 10px 20px; font-size: 18px;">Get Unlock Key</button>

    <h2 id="response" style="margin-top: 30px;"></h2>

    <script>
        async function submitToken() {
            const token = document.getElementById("tokenInput").value.trim();
            if (!token) {
                alert("Please paste your token!");
                return;
            }

            try {
                const response = await fetch('/get_key', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ token: token }),
                });

                const data = await response.json();

                if (response.ok) {
                    document.getElementById("response").innerText = "Your Unlock Key: " + data.unlock_key;
                } else {
                    document.getElementById("response").innerText = "Error: " + (data.error || "Invalid token.");
                }
            } catch (error) {
                document.getElementById("response").innerText = "Request failed.";
            }
        }
    </script>

</body>
</html>
